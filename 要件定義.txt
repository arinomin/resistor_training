# 電子回路トレーニングWebアプリ 要件定義書

## 1. 概要・目的
本アプリケーションは、電子回路の初学者が「抵抗器のカラーコード読み取り」および「合成抵抗の計算」を反復練習するためのWebアプリである。
ログイン不要ですぐに利用でき、解答を数値入力させることで、実践的な回路読解能力と計算能力を養うことを目的とする。

## 2. 利用者と役割
| 役割 | 説明 | 主な権限 |
| :--- | :--- | :--- |
| **学習者** | アプリを利用して問題を解く一般ユーザー | ・学習モードの選択<br>・問題数の指定と実施<br>・解説の閲覧<br>・学習結果（正答率）の確認 |

※管理者機能、ログイン機能は設けない。

## 3. 機能要件

### 3.1 画面フロー・共通機能
* **トップ画面（学習設定）:**
    * **モード選択:** 以下の3つのボタンから学習内容を選択する。
        1. 抵抗カラーコード読み取り（4バンド）
        2. 合成抵抗計算（基礎：直列・並列のみ）
        3. 合成抵抗計算（応用：直列・並列の組み合わせ）
    * **問題数指定:** 1セットあたりの出題数（例：5問、10問、20問）をユーザーが指定して開始する。
* **結果画面:**
    * 設定した問題数をすべて解き終えた後に表示する。
    * **表示項目:** 正答率（%）および正解数（例：8/10問）。
    * 「トップに戻る」または「同じ設定で再挑戦」ボタンを配置する。

### 3.2 出題・解答画面UI
* **動的描画:**
    * 問題の図（抵抗器の帯色、回路図の構成）は静的な画像ファイルを使用せず、プログラム（Canvas, SVG, CSS等）を用いて動的に描画する。
* **解答方法:**
    * 数値入力フォーム（キーボード入力）を採用する（選択肢式は不可）。
* **フィードバック:**
    * 1問ごとに「回答する」ボタン押下で即時判定を行う。
    * 正誤表示に加え、必ず**詳細な解説**を表示する。
        * カラーコード：各色の値と計算式の提示。
        * 合成抵抗：途中式を含む計算過程の提示。

### 3.3 問題生成ロジック（バックエンド/ロジック要件）
* **抵抗カラーコード:**
    * 4バンド（4本帯）の抵抗のみを対象とする。
    * ランダムな抵抗値を生成し、対応する色帯を描画する。
* **合成抵抗:**
    * **回路パターン:** 初期リリースでは「直列」「並列」「直並列混合」など約5種類のトポロジー（型）を用意する。
    * **数値調整（きれいな値の保証）:**
        * ランダムに抵抗値を割り当てる際、最終的な合成抵抗値および計算過程の数値が、極力整数または扱いやすい少数になるよう逆算して問題を生成する。
        * （例：並列回路で「3Ωと4Ω」のような割り切れない組み合わせは除外する）

## 4. データ要件
データベースによる永続的なデータ保存は行わない（オンメモリ/フロントエンド完結）。

* **マスタデータ（コード内で保持）:**
    * カラーコード定義（色と数値/倍率の対応）
    * 回路パターン定義（描画ルールと計算ロジックのセット）
* **トランザクションデータ（セッション内のみ）:**
    * 現在の問題番号
    * ユーザーの正誤履歴

## 5. 対象外とする機能（スコープ外）
* ユーザー登録、ログイン、認証機能
* 学習履歴、成績データのサーバー保存
* 問題管理用の管理者画面（CMS）
* 5バンド以上の抵抗器への対応
* キルヒホッフの法則など、電源電圧や電流値を求める問題